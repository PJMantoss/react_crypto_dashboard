(this.webpackJsonpreact_crypto_dashboard=this.webpackJsonpreact_crypto_dashboard||[]).push([[0],{176:function(e,t,n){},177:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(59),s=n.n(a),u=(n(67),n(13)),i=n.n(u),o=n(37),d=n(5),b=n(62),f=n(1),p=function(e){var t=e.price,n=e.data;return"0.00"===t?Object(f.jsx)("h2",{children:"Please select a currency pair"}):Object(f.jsxs)("div",{className:"dashboard",children:[Object(f.jsx)("h2",{children:"$".concat(t)}),Object(f.jsx)("div",{className:"chart-container",children:Object(f.jsx)(b.a,{data:n,options:{tooltips:{intersect:!1,mode:"index"},responsive:!0,maintainAspectRatio:!1}})})]})},l=function(e){var t={labels:[],datasets:[{label:"price",data:[],backgroundColor:"rgb(255, 99, 132, 0.8)",borderColor:"rgba(255, 99, 132, 0.2)",fill:!1}]},n=e.map((function(e){var t=e[0],n=new Date(1e3*t),r=n.getDate(),c=n.getMonth()+1,a=n.getFullYear();return"".concat(r,"-").concat(c,"-").concat(a)})),r=e.map((function(e){return e[4]}));return r.reverse(),n.reverse(),t.labels=n,t.datasets[0].data=r,t};n(176);var j=function(){var e=Object(r.useState)([]),t=Object(d.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(""),s=Object(d.a)(a,2),u=s[0],b=s[1],j=Object(r.useState)("0.00"),h=Object(d.a)(j,2),O=h[0],v=h[1],y=Object(r.useState)({}),g=Object(d.a)(y,2),m=g[0],x=g[1],_=Object(r.useRef)(null),S=Object(r.useRef)(!1),w="https://api.pro.coinbase.com";return Object(r.useEffect)((function(){_.current=new WebSocket("wss://ws-feed.pro.coinbase.com");var e=[];(function(){var t=Object(o.a)(i.a.mark((function t(){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(w+"/products").then((function(e){return e.json()})).then((function(t){return e=t}));case 2:n=(n=e.filter((function(e){if("USD"===e.quote_currency)return e}))).sort((function(e,t){return e.base_currency<t.base_currency?-1:e.base_currency>t.base_currency?1:0})),c(n),S.current=!0;case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]),Object(r.useEffect)((function(){if(S.current){var e={type:"subscribe",product_ids:[u],channels:["ticker"]},t=JSON.stringify(e);_.current.send(t);var n="".concat(w,"/products/").concat(u,"/candles?granularity=86400");(function(){var e=Object(o.a)(i.a.mark((function e(){var t,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,fetch(n).then((function(e){return e.json()})).then((function(e){return t=e}));case 3:r=l(t),x(r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()(),_.current.onmessage=function(e){var t=JSON.parse(e.data);"ticker"===t.type&&t.product_id===u&&v(t.price)}}}),[u]),Object(f.jsxs)("div",{className:"container",children:[Object(f.jsx)("select",{name:"currency",value:u,onChange:function(e){var t={type:"unsubscribe",product_ids:[u],channels:["ticker"]},n=JSON.stringify(t);_.current.send(n),b(e.target.value)},children:n.map((function(e,t){return Object(f.jsx)("option",{value:e.id,children:e.display_name},t)}))}),Object(f.jsx)(p,{data:m,price:O})]})},h=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,178)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),a(e),s(e)}))};s.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(j,{})}),document.getElementById("root")),h()},67:function(e,t,n){}},[[177,1,2]]]);
//# sourceMappingURL=main.f24ab267.chunk.js.map